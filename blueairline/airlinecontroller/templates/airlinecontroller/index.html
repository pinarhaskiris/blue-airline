{% extends "airlinecontroller/layout.html" %}
{% load static %}

{% block body %}
    {% if user.is_authenticated %}
        <a class="btn btn-sm btn-outline-primary" href="{% url 'create_flight' %}">Create Flight</a>
        <a class="btn btn-sm btn-outline-primary" href="{% url 'logout' %}">Log Out</a>
        <hr>
    {% else %}
        <a class="btn btn-sm btn-outline-primary login-btn" href="{% url 'login' %}">Login as Flight Scheduler</a>
    {% endif %}

    <h1>Available Flights</h1>

    <ul class="list-group"></ul>
    {% for flight in flights %}
    <li class="list-group-item">
       <div class="flight-container">
           <div class="small-flight-container">
                <div>{{ flight.departure_airport }}</div>
                <div>{{ flight.departure_date }}</div>
           </div>
        
            <div class="plane-icon"><i class="fas fa-plane"></i></div>

            <div class="small-flight-container">
                <div>{{ flight.destination_airport }}</div>
                <div>{{ flight.arrival_date }}</div>
            </div>
            
            <a href="{% url 'show_flight' flight.id %}" class="select-flight-link">Select</a>
        </div>
    </li> 
    {% endfor %}
    </ul>
{% endblock %}
